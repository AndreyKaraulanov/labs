<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>lab7(8.2)</title>
	<style rel="stylesheet" type="text/css" media="screen">
	td,th,tr{
    border: 1px solid black;
}

.container{
    display: flex;
    flex-direction: column;
    width: 300px;
}
    </style>
</head>
<body>
	<form action="" method="post">
        <table id="list">
            <tr id="block">
                <th>Країна виробник</th>
                <th>Скільки часу на ринку</th>
                <th>Кількість користувачів</th>
                <th>Назва</th>
                <th>Примітки</th>
            </tr>
            
        </table>
        <div class="container">
            <input type="text" name="" id="country" placeholder="Країна виробник">
            <input type="text" name="" id="age" placeholder="Скільки часу на ринку">
            <input type="text" name="" id="genre" placeholder="Кількість користувачів">
            <input type="text" name="" id="surname" placeholder="Назва">
            <input type="text" name="" id="notes" placeholder="Примітки"><br>
        </div>

         <input type="button" value="Add" id="add" disabled>
        <input type="button" value="Remove" id="rm" disabled>
    </form>
</body>
<script>
    document.getElementById("add").onclick = () => {
    tr = document.createElement("tr");
    let country = document.getElementById("country").value;
    let age = document.getElementById("age").value;
    let genre = document.getElementById("genre").value;
    let surname = document.getElementById("surname").value;
    let notes = document.getElementById("notes").value;
    if (country == "" || age == "" || genre == "" || surname == "") {
        alert("Заповніть усі поля!");
        return;
    }
    tr.innerHTML = `<td>${country}</td>
    <td>${age}</td>
    <td>${genre}</td>
    <td>${surname}</td>
    <td>${notes}</td>`;
    document.getElementById("list").appendChild(tr);
}


document.getElementById("rm").onclick = () => {
    let l = document.getElementById("list").children;
    if (l == null) {
        return;
    }
    for (let item of l) {
        if (item.className == "toRm") {
            item.remove();
        }
    }
    if (document.getElementsByClassName("toRm").length==0) {
        document.getElementById("rm").disabled = true;
    }else{
        document.getElementById("rm").disabled = false;
    }

}

document.getElementById("list").addEventListener("click", (event) => {
    let target = event.target;
    while (target.tagName != "TR") {
        target = target.parentNode
    }
    if (target.tagName == "TD") {
        target = target.parentNode
    } else if (target.tagName != "TR") {
        return
    }
    target.style.backgroundColor = "black";
    target.style.color = "white";
    target.className = "toRm";
    if (document.getElementsByClassName("toRm").length==0) {
        document.getElementById("rm").disabled = true;
    }else{
        document.getElementById("rm").disabled = false;
    }
});

document.getElementById("container").addEventListener("keyup", (event) => {
    let target = event.target;
    for (let item of document.getElementById("container").getElementsByTagName("input")) {
        if (item.value == "") {
            document.getElementById("add").disabled = true;
            return;
        }
        document.getElementById("add").disabled = false;
    }
});
</script>
</html>